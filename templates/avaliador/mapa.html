<!DOCTYPE html>
{% extends 'base_avaliador.html' %}
{% load staticfiles%}

{%block assets%}
	<style>
		#principal{
			position: relative;
		}
		#img_mapa{
			position: absolute;
		}
		#img_point{
			position: absolute;
		}
	</style>
	
{%endblock%}


{% block conteudo%}

	<div class="w3-container">	
	    <div id="main" class="w3-container w3-red">
	      <h2>Territ√≥rios</h2>
	    </div>
			<div class="w3-row">
				<div id="principal">
						<img id="img_mapa"src="{% static "imagens/WarDM_map.png" %}" alt="Mapa" usemap="#mapa_war">
						{%for territorio in territorios%}
							<a href="#"><img style="position:absolute" id="{{territorio.nome.upper}}" src="{% static "imagens/point.png" %}" width="2%" href="#"></a>
						{%endfor%}

					</div>
	    </div>
		
	  
	</div>

	<script>
		var mapa = document.getElementById("img_mapa");
		var main = document.getElementById("main");

		var territorios = [
			{"nome": "BRASIL","largura": 1270, "altura": 1930},
        	{"nome": "ARGENTINA", "largura": 1085, "altura": 2270}
		]

		function ajuste_points(){
			for(i = 0; i < territorios.length; i++){
				var point = document.getElementById(territorios[i].nome);
				var porcentagem_largura = mapa.width / mapa.naturalWidth;
				var porcentagem_altura = mapa.height / mapa.naturalHeight;
				point.style.left = (territorios[i].largura * porcentagem_largura) + "px";
				point.style.top = (territorios[i].altura * porcentagem_altura) + "px";
			}
		}

		function resize_mapa(){
			mapa.width = main.clientWidth;
			ajuste_points();
		}

		resize_mapa();
		window.onresize = resize_mapa;
	</script>
{%endblock%}