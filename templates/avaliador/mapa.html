<!DOCTYPE html>
{% extends 'base_avaliador.html' %}
{% load staticfiles%}

{%block assets%}
	<style>
		#principal{
			position: relative;
		}
		#img_mapa{
			position: absolute;
		}
		#img_point{
			position: absolute;
		}
	</style>
	
{%endblock%}


{% block conteudo%}

	<div class="w3-container">	
	    <div id="main" class="w3-container w3-red">
	      <h2>Territ√≥rios</h2>
	    </div>
			<div class="w3-row">
				<div id="principal">
						<img id="img_mapa"src="{% static "imagens/WarDM_map.png" %}" alt="Mapa" usemap="#mapa_war">
						{%for territorio in territorios%}
							<a href="#"><img style="position:absolute" id="{{territorio.0.nome.upper}}" 
							largura="{{territorio.1.largura}}" altura="{{territorio.1.altura}}" src="{% static "imagens/point.png" %}" width="2%" href="#"></a>
						{%endfor%}

					</div>
	    </div>
		
	  
	</div>

	<script>
		var mapa = document.getElementById("img_mapa");
		var main = document.getElementById("main");
		var principal = document.getElementById("principal");

		function ajuste_points(){
			for(i = 1; i < principal.children.length; i++){
				var point = principal.children[i].children[0];
				var porcentagem_largura = mapa.width / mapa.naturalWidth;
				var porcentagem_altura = mapa.height / mapa.naturalHeight;
				point.style.left = (parseInt(point.getAttribute("largura")) * porcentagem_largura) + "px";
				point.style.top = (parseInt(point.getAttribute("altura")) * porcentagem_altura) + "px";
			}
		}

		function resize_mapa(){
			mapa.width = main.clientWidth;
			ajuste_points();
		}

		resize_mapa();
		window.onresize = resize_mapa;
	</script>
{%endblock%}