{% extends 'base_gerente.html' %}
{% load staticfiles %}

{% block assets %}
    <script>
        function funcCriarLogin() {
            var numero = document.getElementById("numero");
            var login = document.getElementById("loginId");
            login.value = "cap_" + numero.value
        }

    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="{% static "js/jquery.mask.js" %}"></script>
    <script>
        $(document).ready(function () {
            $("#telefone").mask("(00) 0.000-00000");
        });
    </script>

    <link rel="stylesheet" href="{% static "css/form_cadastro.css" %}">

{% endblock %}

{% block conteudo %}

    <div class="w3-container">
        <div class="w3-container">
            <div class="w3-card-4 w3-gray-ligth">
                <div class="w3-container w3-red">
                    <h2>Cadastro Cap√≠tulo</h2>
                </div>

                <form action="{% url 'cadastroCapitulo' %}" method="POST">
                    {% csrf_token %}
                    <div class="w3-col m10">
                        <div class="w3-row-padding">
                            <div class="w3-half w3-col m8">
                                <div class="w3-row w3-section">
                                    <div class="w3-col" style="width:50px"><i
                                            class="w3-xxlarge fa fa-address-card-o"></i></div>
                                    <div class="w3-rest">
                                        {{ form.nomeCap }}
                                    </div>
                                </div>

                            </div>

                            <div class="w3-half w3-col m4">
                                <div class="w3-row w3-section">
                                    <div class="w3-col" style="width:50px"><i
                                            class="w3-xxlarge fa fa-sort-numeric-asc"></i></div>
                                    <div class="w3-rest">
                                        {{ form.numero }}
                                    </div>
                                </div>


                            </div>
                        </div>

                        <div class="w3-row-padding">
                            <div class="w3-half w3-col m8">
                                <div class="w3-row w3-section">
                                    <div class="w3-col" style="width:50px"><i class="w3-xxlarge fa fa-user-o"></i>
                                    </div>
                                    <div class="w3-rest">
                                        {{ form.mestreCosenheiro }}
                                    </div>
                                </div>

                            </div>

                            <div class="w3-half w3-col m4">
                                <div class="w3-row w3-section">
                                    <div class="w3-col" style="width:50px"><i class="w3-xxlarge fa fa-user"></i>
                                    </div>
                                    <div class="w3-rest">
                                        <input required="false" class="w3-input w3-border" id="loginId" disabled
                                               name="login"
                                               type="text"
                                               placeholder="Login"
                                               onkeyup="funcCriarLogin()">
                                    </div>
                                </div>

                            </div>
                        </div>

                    </div>
                    <div class="w3-row-padding">


                        <div class="w3-half w3-col m6">
                            <div class="w3-row w3-section">
                                <div class="w3-col" style="width:50px"><i class="w3-xxlarge fa fa-envelope-o"></i></div>
                                <div class="w3-rest">
                                    {{ form.email }}
                                </div>
                            </div>
                        </div>

                        <div class="w3-half w3-col m6">
                            <div class="w3-row w3-section">
                                <div class="w3-col" style="width:50px"><i class="w3-xxlarge fa fa-whatsapp"></i></div>
                                <div class="w3-rest">
                                    {{ form.telefone }}
                                </div>
                            </div>

                        </div>
                    </div>

                    <div class="w3-row-padding">
                        <div class="w3-half w3-col m6">
                            <div class="w3-row w3-section">
                                <div class="w3-col" style="width:50px"><i class="w3-xxlarge fa fa-key"></i>
                                </div>
                                <div class="w3-rest">
                                    {{ form.password }}
                                </div>
                            </div>
                        </div>

                        <div class="w3-half w3-col m6">
                            <div class="w3-row w3-section">
                                <div class="w3-col" style="width:50px"><i class="w3-xxlarge fa fa-key"></i>
                                </div>
                                <div class="w3-rest">
                                    {{ form.passwordConfirm }}
                                    <p class="w3-text-red w3-animate-zoom" id="alert_senha" style="display: none">Senhas diferentes! </p>

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="w3-row-padding">
                        <div class="w3-half w3-col m4">
                            <div class="w3-row w3-section">
                                <div class="w3-col" style="width:50px"><i class="w3-xxlarge fa fa-calendar"></i></div>
                                <div class="w3-rest">
                                    {{ form.dataInstalacao }}
                                </div>
                            </div>
                        </div>

                        <div class="w3-half w3-col m4">
                            <div class="w3-row w3-section">
                                <div class="w3-col" style="width:50px"><i class="w3-xxlarge fa fa-calendar"></i></div>
                                <div class="w3-rest">
                                    {{ form.dataFundacao }}
                                </div>
                            </div>
                        </div>

                        <div class="w3-half w3-col m4">
                            <div class="w3-row w3-section">
                                <div class="w3-col" style="width:50px"></div>
                                <div class="w3-rest">
                                    {{ form.regiao }}
                                </div>
                            </div>
                        </div>
                    </div>


                    <hr class="w3-gray w3-border">
                    <div class="w3-container w3-gray-ligth w3-center">
                        <button type="submit" style="margin-bottom:15px"
                                class="w3-ripple btn-clone w3-btn w3-red w3-center w3-hover-red">Registrar <i
                                class="fa fa-arrow-right"></i></button>
                    </div>

                </form>
            </div>
        </div>

    </div>

    </div>

    <script>
        var senha = document.getElementById("senha");
        var confirm_senha = document.getElementById("conf_senha");
        var alert = document.getElementById("alert_senha")
        var func = function () {
            if (senha.value != confirm_senha.value && confirm_senha.value != "") {
                alert.style.display = "block";
            } else {
                alert.style.display = "none";
            }
        };
        //nova_senha.onkeyup = func;
        confirm_senha.onblur = func;

        window.onload = function () {
            var segundos = 2;
            setTimeout(function () {
                $("#alteracao-sucesso").fadeOut("slow")

            }, 1000 * segundos)
        };
    </script>

{% endblock %}